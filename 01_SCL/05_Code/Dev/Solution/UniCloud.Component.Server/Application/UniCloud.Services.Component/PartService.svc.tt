<#@ Assembly Name="System.Core.dll" #>
<#@ Assembly Name="System.Windows.Forms.dll" #>
<#@ assembly name="System.ServiceModel.dll"#>
<#@ assembly name="System.Runtime.Serialization.dll"#>
<#@ Assembly Name="$(SolutionDir)Packages\UniCloud.Infrastructure.1.0.1\lib\UniCloud.Infrastructure.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Application\UniCloud.Application.Component\bin\$(ConfigurationName)\UniCloud.Application.Component.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Domain\UniCloud.Domain.Component\bin\$(ConfigurationName)\UniCloud.Domain.Component.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Application\UniCloud.ServiceContracts.Component\bin\$(ConfigurationName)\UniCloud.ServiceContracts.Component.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Application\UniCloud.Query.Component\bin\$(ConfigurationName)\UniCloud.Query.Component.dll" #>
<#@ import namespace="System" #>
<#@ import namespace="System.Reflection" #>
<#@ import namespace="System.IO" #>
<#@ import namespace="System.Text" #>
<#@ import namespace="System.Linq" #>
<#@ import namespace="System.Collections.Generic" #> 
<#@ import namespace="UniCloud.Application" #>
<#@ import namespace="System.ServiceModel"#>
<#@ include file="Common.tt"#>
// ******************************************************
// DO NOT CHANGE THE CONTENT OF THIS FILE
// This file was generated by the T4 engine and the 
// contents of this source code will be changed after
// the custom tool was run.
// ******************************************************
using System;
using System.Collections.Generic;
using System.ServiceModel;
using UniCloud.Application;
using UniCloud.DataObjects;
using UniCloud.ServiceContracts;
using UniCloud.Infrastructure;
using UniCloud.Query;
using UniCloud.Domain.Model;

namespace UniCloud.Services
{
	public class PartService : IPartService
	{
		#region 服务接口
	    <#
      	foreach (Type tp in typeof(UniCloud.ServiceContracts.IPartService).GetInterfaces().Where(
			a=>a.Name!="IApplicationServiceContract"))
        {
	     #>
		 private readonly <#=tp.Name#> _<#=tp.Name#> = ServiceLocator.Instance.GetService<<#=tp.Name#>>();
		 <#}#>
		#endregion

		<#
			foreach (Type tp in typeof(UniCloud.ServiceContracts.IPartService).GetInterfaces())
        {
		foreach (MethodInfo method in tp.GetMethods()) {#>
    public <#=GetMethodReturnType(method)#> <#=method.Name#>(<#=GetMethodParameterList(method)#>)
	        {
			    try
			    {
				<#if(method.ReturnType != typeof(void)){#>return<#}#> _<#=tp.Name#>.<#=method.Name#>(<#=GetMethodParameterValueList(method)#>);
		     	}
			   catch(Exception ex)
			   {
				throw new FaultException<FaultData>(FaultData.CreateFromException(ex), FaultData.CreateFaultReason(ex));
			   }
		    }
		<#}
         }
		#>
}
}


