<#@ Assembly Name="System.Core.dll" #>
<#@ Assembly Name="System.Windows.Forms.dll" #>
<#@ assembly name="System.ServiceModel.dll"#>
<#@ assembly name="System.Runtime.Serialization.dll"#>
<#@ Assembly Name="$(SolutionDir)Packages\UniCloud.Infrastructure.1.0.1\lib\UniCloud.Infrastructure.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Application\UniCloud.Application.Component\bin\$(ConfigurationName)\UniCloud.Application.Component.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Domain\UniCloud.Domain.Component\bin\$(ConfigurationName)\UniCloud.Domain.Component.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Application\UniCloud.ServiceContracts.Component\bin\$(ConfigurationName)\UniCloud.ServiceContracts.Component.dll" #>
<#@ Assembly Name="$(SolutionDir)UniCloud.Component.Server\Application\UniCloud.Query.Component\bin\$(ConfigurationName)\UniCloud.Query.Component.dll" #>
<#@ import namespace="System" #>
<#@ import namespace="System.Reflection" #>
<#@ import namespace="System.IO" #>
<#@ import namespace="System.Text" #>
<#@ import namespace="System.Linq" #>
<#@ import namespace="System.Collections.Generic" #> 
<#@ import namespace="UniCloud.Application" #>
<#@ import namespace="System.ServiceModel"#>
<#@ include file="Common.tt"#>
// ******************************************************
// DO NOT CHANGE THE CONTENT OF THIS FILE
// This file was generated by the T4 engine and the 
// contents of this source code will be changed after
// the custom tool was run.
// ******************************************************
using System;
using UniCloud.DataObjects.Silverlight;
using UniCloud.Services.Client.Component;

namespace UniCloud.Services
{
    /// <summary>
    /// 附件构型实现
    /// </summary>
    public class PartClient : IPartClient
    {
	     #region Private Fields

        private static readonly PartClient _instance=new PartClient();
        private readonly ComponentServiceClient _componentServiceClient; 
 
         #endregion

         #region Ctor

        public PartClient()
        {
            _componentServiceClient = new ComponentServiceClient("BasicHttpBinding_IPartService");
        }

         #endregion

         #region Properties

         /// <summary>
         /// 服务实例
         /// </summary>
       public static PartClient Instance
        {
            get { return _instance; }
        }

         #endregion


		 <#
			foreach (Type tp in typeof(UniCloud.ServiceContracts.IPartService).GetInterfaces())
          {
		 foreach (MethodInfo method in tp.GetMethods().Where(m => m.CustomAttributes.Any(a => a.AttributeType == typeof(System.ServiceModel.OperationContractAttribute))))  {#>
 public  void <#=method.Name#>(<#=GetMethodParameterList(method).Length>0?GetMethodParameterList(method)+",":""#>
		 EventHandler<<#=method.Name#>CompletedEventArgs> callback,object state = null)
		 {
		     var request = new <#=method.Name#>Request(<#=GetMethodParameterValueList(method)#>);
            _componentServiceClient.SetEvent("<#=method.Name#>Completed", callback);
            _componentServiceClient.<#=method.Name#>Async(request, state);
		  }

		<#}
         }
		#>

		public void Dispose()
        {
            GC.SuppressFinalize(this);
        }
	}
}